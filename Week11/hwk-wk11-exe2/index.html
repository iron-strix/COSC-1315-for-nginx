<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Driving Cost</title>
    <style>
        body{
            background: linear-gradient(to right, aqua 0%, white 100%);
        }
        img {
            width:450px;
            height:auto;
        }

        .tableclass {
            border: solid black 5px;
        }

        a:link,
        a:visited {
            font-weight: bold;
            text-decoration: none;
            color:orange;
        }
    </style>
</head>
<body>

    <section style="min-height: calc(100vh - 50px);">
        <!--CONTENT HERE-->
        <table class="tableclass">
            <tr>
                <td>
                    <h1>Daily Driving Cost</h1>
                    <p>Determine the dialy driving cost based on total miles driven per day,
                        cost of gas (per gallon), average miles per gallon, parking fees per day,
                        and tolls per day.
                    </p>

                    <table>
                        <tr>
                            <td id="displayImages"></td>
                            <td>
                                <form name="theform">
                                    <table>
                                        <tr>
                                            <td>Miles Driven:</td>
                                            <td><input name="milesDrivenFM" size="10"><br></td>
                                        </tr>
                    
                                        <tr>
                                            <td>Cost per Gallon:</td>
                                            <td><input name="costPerGallonFM" size="10"><br></td>
                                        </tr>
                    
                                        <tr>
                                            <td>Avg Miles per Gallon:</td>
                                            <td><input name="avgMilesPerGallonFM" size="10"><br></td>
                                        </tr>
                    
                                        <tr>
                                            <td>Parking Fees:</td>
                                            <td><input name="parkingFeesFM" size="10"><br></td>
                                        </tr>
                    
                                        <tr>
                                            <td>Tolls:</td>
                                            <td><input name="tollsFM" size="10"><br></td>
                                        </tr>
                                        
                                        <tr>
                                            <td>Total:</td>
                                            <td><h2 id="finalResult"></h2></td>
                                        </tr>
                    
                                        <tr>
                                            <td colspan="2"><input type="button" name="calc" value="Calculate" onClick="calculate();">
                                        <input type="button" name="clear" value="Clear" onClick="clearForm();"></td> 
                                        </tr>  
                                    </table> 
                                </form>
                            </td>
                        </tr>
                    </table>
                    
                    <script>
                        //declare functions
                        function calculate(){
                            //vars
                            var milesDriven; //all of these vars are on a per day basis
                            var costPerGallon;
                            var avgMilesPerGallon;
                            var parkingFees;
                            var tolls;
                            var total; // total cost per day to drive

                            //get values from text fields and update vars
                            milesDriven = parseInt(document.theform.milesDrivenFM.value);
                            costPerGallon = parseFloat(document.theform.costPerGallonFM.value);
                            avgMilesPerGallon = parseInt(document.theform.avgMilesPerGallonFM.value);
                            parkingFees = parseFloat(document.theform.parkingFeesFM.value);
                            tolls = parseFloat(document.theform.tollsFM.value);

                            //calculate and display daily driving cost
                            total = parseFloat(((milesDriven * costPerGallon)/avgMilesPerGallon) + tolls + parkingFees);

                            //added some error checking
                            if (total){
                                document.querySelector('h2').innerHTML = "$ " + total.toFixed(2); //will output as $x.xx
                            }
                        }

                        function clearForm(){
                            document.theform.milesDrivenFM.value = " ";
                            document.theform.costPerGallonFM.value = " ";
                            document.theform.avgMilesPerGallonFM.value = " ";
                            document.theform.parkingFeesFM.value = " ";
                            document.theform.tollsFM.value = " ";
                            
                            //to clear the h2 element
                            document.getElementById("finalResult").innerHTML = " ";

                            //put the cursor back to top of form
                            document.theform.milesDrivenFM.focus();
                        }

                        function getImages(){
                            //focus on form
                            document.theform.milesDrivenFM.focus();
                            
                            //array of images
                            images = new Array(5);

                            //get element by id
                            displayImages = document.getElementById("displayImages");

                            //init the array
                            images[0] = '<img src="../src/img/car1.jpg">';
                            images[1] = '<img src="../src/img/car2.jpg">';
                            images[2] = '<img src="../src/img/car3.jpg">';
                            images[3] = '<img src="../src/img/car4.jpg">';
                            images[4] = '<img src="../src/img/car5.jpg">';

                            //random index
                            i = Math.floor(Math.random() * images.length);

                            //display image at random index
                            displayImages.innerHTML = images[i];
                        }

                        getImages();
                    </script>
                </td>
            </tr>
        </table>
    </section>

    <footer style="height: 50px;">
        <hr>
        <br>
        <p style="text-align:center">
            <a href="https://strix.quest/COSC-1315-for-nginx/index.html">Index Link</a><br>
            Nigel Little <script>
                // Hide the script from old browsers
                document.write(document.lastModified);
                // Stop hiding the script
            </script> <!--Remember to update date-->
        </p>
    </footer>
</body>
</html>