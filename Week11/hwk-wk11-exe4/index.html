<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meal Charge Calculation</title>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Merriweather:wght@300&family=Roboto+Slab&display=swap');
        
        body{
            background-color: darkslategray;
        }

        img{
            width: 400px;
            height: auto;
            border-radius: 50px;
        }

        table.main{
            border: solid 5px slategray;
        }

        td{
            font-family: 'Merriweather', serif;
        }

        h1{
            font-family: 'Roboto Slab', serif;
        }

        a:link, a:visited {
            font-weight: bold;
            text-decoration: none;
            color: cyan;
        }

        a:hover {
            font-weight: bolder;
            color:yellow;
        }
    </style>
</head>
<body>

    <section style="min-height: calc(100vh - 50px);">
        <!--CONTENT HERE-->
        <table class="main">
            <tr>
                <td colspan="4"><h1>Meal Charge Calculation</h1></td>
            </tr>
            <tr>
                <td colspan="4">
                    <p>Calculate total meal cost. Tax is 8.25% of meal cost.
                        Tip is 15% of meal cost. Total meal cost is equal to the meal cost
                        plus the tax and plus the tip.
                    </p>
                </td>
            </tr>
            <tr>
                <td>
                    <table>
                        <form name="myform">
                            <tr>
                                <td>Enter meal cost: <input name="mealCostFM" size="20"></td>
                            </tr>
                            <tr>
                                <td colspan="2" rowspan="8" id="displayImages"></td>
                            </tr>
                            <tr>
                                <td colspan="2"><h3>Description Price</h3></td>
                            </tr>
                            <tr>
                                <td>Meal Cost:</td>
                                <td id="mealCostOUTPUT_FM" style="background-color: white; color: black;"></td>
                            </tr>
            
                            <tr>
                                <td>Tax: (8.25%)</td>
                                <td id="taxOUTPUT_FM" style="background-color: white; color: black;"></td>
                            </tr>
            
                            <tr>
                                <td>Tip: (15%)</td>
                                <td id="tipOUTPUT_FM" style="background-color: white; color: black;"></td>
                            </tr>
            
                            <tr>
                                <td>Total:</td>
                                <td id="totalOUTPUT_FM" style="background-color: white; color: black;"></td>
                            </tr>
            
                            <tr>
                                <td><input type="button" name="calc" value="Calculate" onClick="calculate();"></td>
                                <td><input type="button" name="clear" value="Clear" onClick="clearForm();"></td>
                            </tr>
                        </form>
                    </table>
                </td>
            </tr>
        </table>

        <script>
            //declare functions
            function calculate(){
                //declare vars
                const taxPercent = 0.0825;
                const tipPercent = 0.15;
                var mealCost;
                var tax;
                var tip;
                var total;

                //get values from form fields
                mealCost = parseFloat(document.myform.mealCostFM.value);

                //do calculations
                tax = parseFloat((mealCost) * taxPercent);
                tip = parseFloat((mealCost) * tipPercent);
                total = parseFloat((mealCost + tip + tax));

                //display calculations
                document.getElementById("mealCostOUTPUT_FM").innerHTML = "$ " + mealCost.toFixed(2);
                document.getElementById("taxOUTPUT_FM").innerHTML = "$ " + tax.toFixed(2);
                document.getElementById("tipOUTPUT_FM").innerHTML = "$ " + tip.toFixed(2);
                document.getElementById("totalOUTPUT_FM").innerHTML = "$ " + total.toFixed(2);
            }

            function clearForm(){
                document.myform.mealCostFM.value = " ";

                document.getElementById("mealCostOUTPUT_FM").innerHTML = " ";
                document.getElementById("taxOUTPUT_FM").innerHTML = " ";
                document.getElementById("tipOUTPUT_FM").innerHTML = " ";
                document.getElementById("totalOUTPUT_FM").innerHTML = " ";

                document.myform.mealCostFM.focus();
            }

            function getImages(){
                //focus on top of form
                document.myform.mealCostFM.focus();

                //create array object
                images = new Array(5);

                //get element by id
                displayImages = document.getElementById("displayImages");

                //init array with images
                images[0] = '<img src="../src/img/food1.jpg">';
                images[1] = '<img src="../src/img/food2.jpg">';
                images[2] = '<img src="../src/img/food3.jpg">';
                images[3] = '<img src="../src/img/food4.jpg">';
                images[4] = '<img src="../src/img/food5.jpg">';

                //random index
                i = Math.floor(Math.random() * images.length);

                //display a random image inside of displayImages element
                displayImages.innerHTML = images[i];
            }

            getImages();
        </script>
    </section>

    <footer style="height: 50px;">
        <hr>
        <br>
        <p style="text-align:center">
            <a href="https://strix.quest/COSC-1315-for-nginx/index.html">Index Link</a><br>
            Nigel Little <script>
                // Hide the script from old browsers
                document.write(document.lastModified);
                // Stop hiding the script
            </script> <!--Remember to update date-->
        </p>
    </footer>
</body>
</html>